{
  "version": 3,
  "sources": ["../src/index.tsx"],
  "sourcesContent": ["import {\n  ActionPanel,\n  Detail,\n  Form,\n  useNavigation,\n  showToast,\n  getPreferenceValues,\n  environment,\n  Icon,\n  Action,\n  Toast,\n} from \"@raycast/api\";\nimport { useState } from \"react\";\n\ninterface Preferences {\n  appId: string;\n  units?: string;\n}\n\nexport default function Command() {\n  const preferences: Preferences = getPreferenceValues();\n  const [loading, setLoading] = useState(false);\n  const [query, setQuery] = useState(\"\");\n  const { push } = useNavigation();\n\n  const theme = environment.appearance || null;\n\n  const onSubmit = async () => {\n    if (!query) {\n      showToast({\n        style: Toast.Style.Failure,\n        title: \"Please enter something to query\",\n      });\n      return;\n    }\n    setLoading(true);\n    try {\n      const params = new URLSearchParams({\n        appid: preferences.appId,\n        i: query,\n        width: `${474 * 2}`,\n        units: preferences.units || \"metric\",\n        fontsize: `${14 * 2}`,\n      });\n      if (theme) {\n        params.append(\"background\", \"transparent\");\n        params.append(\"foreground\", theme === \"light\" ? \"black\" : \"white\");\n      }\n      const res = await fetch(`https://api.wolframalpha.com/v1/simple?${params.toString()}`);\n      if (!res.ok) {\n        if (res.status === 403) {\n          showToast({\n            style: Toast.Style.Failure,\n            title: \"Invalid App ID\",\n            message: \"Update the App ID in the preferences\",\n          });\n          return;\n        }\n        throw new Error(res.statusText);\n      }\n      const buffer = Buffer.from(await res.arrayBuffer());\n      push(\n        <Detail\n          markdown={\n            // `![${query}](https://api.wolframalpha.com/v1/simple?${params.toString()})`\n            `![${query}](data:${res.headers.get(\"content-type\")};charset=utf-8;base64,${buffer.toString(\"base64\")})`\n          }\n          actions={\n            <ActionPanel>\n              <Action.OpenInBrowser url={`https://www.wolframalpha.com/input/?i=${encodeURIComponent(query)}`} />\n            </ActionPanel>\n          }\n        />,\n      );\n    } catch (err) {\n      showToast({\n        style: Toast.Style.Failure,\n        title: \"Could not query WolframAlpha\",\n        message: (err as Error).message,\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Form\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm onSubmit={onSubmit} title=\"Query\" icon={Icon.MagnifyingGlass} />\n          <Action.OpenInBrowser url={`https://www.wolframalpha.com/input/?i=${encodeURIComponent(query)}`} />\n        </ActionPanel>\n      }\n      isLoading={loading}\n    >\n      <Form.TextField\n        title=\"Wolfram query\"\n        placeholder=\"Einstein curve\"\n        id=\"query\"\n        onChange={(query) => setQuery(query)}\n        storeValue\n      />\n    </Form>\n  );\n}\n"],
  "mappings": "yaAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAWO,wBACPC,EAAyB,iBAyDXC,EAAA,6BAlDC,SAARJ,GAA2B,CAChC,IAAMK,KAA2B,uBAAoB,EAC/C,CAACC,EAASC,CAAU,KAAI,YAAS,EAAK,EACtC,CAACC,EAAOC,CAAQ,KAAI,YAAS,EAAE,EAC/B,CAAE,KAAAC,CAAK,KAAI,iBAAc,EAEzBC,EAAQ,cAAY,YAAc,KAElCC,EAAW,SAAY,CAC3B,GAAI,CAACJ,EAAO,IACV,aAAU,CACR,MAAO,QAAM,MAAM,QACnB,MAAO,iCACT,CAAC,EACD,MACF,CACAD,EAAW,EAAI,EACf,GAAI,CACF,IAAMM,EAAS,IAAI,gBAAgB,CACjC,MAAOR,EAAY,MACnB,EAAGG,EACH,MAAO,MACP,MAAOH,EAAY,OAAS,SAC5B,SAAU,IACZ,CAAC,EACGM,IACFE,EAAO,OAAO,aAAc,aAAa,EACzCA,EAAO,OAAO,aAAcF,IAAU,QAAU,QAAU,OAAO,GAEnE,IAAMG,EAAM,MAAM,MAAM,0CAA0CD,EAAO,SAAS,CAAC,EAAE,EACrF,GAAI,CAACC,EAAI,GAAI,CACX,GAAIA,EAAI,SAAW,IAAK,IACtB,aAAU,CACR,MAAO,QAAM,MAAM,QACnB,MAAO,iBACP,QAAS,sCACX,CAAC,EACD,MACF,CACA,MAAM,IAAI,MAAMA,EAAI,UAAU,CAChC,CACA,IAAMC,EAAS,OAAO,KAAK,MAAMD,EAAI,YAAY,CAAC,EAClDJ,KACE,OAAC,UACC,SAEE,KAAKF,CAAK,UAAUM,EAAI,QAAQ,IAAI,cAAc,CAAC,yBAAyBC,EAAO,SAAS,QAAQ,CAAC,IAEvG,WACE,OAAC,eACC,mBAAC,SAAO,cAAP,CAAqB,IAAK,yCAAyC,mBAAmBP,CAAK,CAAC,GAAI,EACnG,EAEJ,CACF,CACF,OAASQ,EAAK,IACZ,aAAU,CACR,MAAO,QAAM,MAAM,QACnB,MAAO,+BACP,QAAUA,EAAc,OAC1B,CAAC,CACH,QAAE,CACAT,EAAW,EAAK,CAClB,CACF,EAEA,SACE,OAAC,QACC,WACE,QAAC,eACC,oBAAC,SAAO,WAAP,CAAkB,SAAUK,EAAU,MAAM,QAAQ,KAAM,OAAK,gBAAiB,KACjF,OAAC,SAAO,cAAP,CAAqB,IAAK,yCAAyC,mBAAmBJ,CAAK,CAAC,GAAI,GACnG,EAEF,UAAWF,EAEX,mBAAC,OAAK,UAAL,CACC,MAAM,gBACN,YAAY,iBACZ,GAAG,QACH,SAAWE,GAAUC,EAASD,CAAK,EACnC,WAAU,GACZ,EACF,CAEJ",
  "names": ["index_exports", "__export", "Command", "__toCommonJS", "import_api", "import_react", "import_jsx_runtime", "preferences", "loading", "setLoading", "query", "setQuery", "push", "theme", "onSubmit", "params", "res", "buffer", "err"]
}
